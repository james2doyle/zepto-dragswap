;(function(a){a.fn.dragswap=function(b){function d(){var b,a=document.createElement("p"),c={webkitAnimation:"-webkit-animation",OAnimation:"-o-animation",msAnimation:"-ms-animation",MozAnimation:"-moz-animation",animation:"animation"};document.body.insertBefore(a,null);for(var d in c)if(void 0!==a.style[d])return a.style[d]="translate3d(1px,1px,1px)",b=window.getComputedStyle(a).getPropertyValue(c[d]),d;document.body.removeChild(a)}function e(b){a(b).addClass(j.dropClass),a(b).on(j.prefix+"End",function(){a(b).removeClass(j.dropClass)},!1)}function f(b){a(this).addClass("moving"),c=this,b.dataTransfer.effectAllowed="move",b.dataTransfer.setData("text/html",this.innerHTML)}function g(){a(this).addClass(j.overClass)}function h(){a(this).removeClass(j.overClass)}function i(a){return a.preventDefault&&a.preventDefault(),a.dataTransfer.dropEffect="move",!1}var c;this.defaultOptions={element:"li",overClass:"over",moveClass:"moving",dropClass:"drop",dropAnimation:!1,exclude:".disabled",prefix:d(),dropComplete:function(){}};var j=a.extend({},this.defaultOptions,b),k=b+"";if(!/^(toArray|toJSON)$/.test(k))return this.each(function(){function m(a){if(a.stopPropagation&&a.stopPropagation(),c!=this){var b={html:this.innerHTML,id:this.getAttribute("id")},d={html:c.innerHTML,id:c.getAttribute("id")};c.innerHTML=b.html,c.setAttribute("id",b.id),this.innerHTML=d.html,this.setAttribute("id",d.id),j.dropAnimation&&(e(this),e(c)),j.dropComplete()}return!1}function n(){a(this).removeClass("moving"),l.each(function(){a(this).removeClass(j.overClass)})}var k=a(this),l=k.find(j.element).filter(":not("+j.exclude+")");l.filter(":not("+j.exclude+")").attr("draggable",!0),l.on("dragstart",f),l.on("dragenter",g),l.on("dragover",i),l.on("dragleave",h),l.on("drop",m),l.on("dragend",n)});if("toArray"==k){var l=[];return a(this).find(j.element).each(function(){l.push(a(this).attr("id"))}),l}}})(Zepto);